(()=>{var e={};e.id=496,e.ids=[496],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7571:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(9251),s(1506),s(5866);var r=s(3191),n=s(8716),a=s(7922),i=s.n(a),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["student",{children:["subjects",{children:["[topicId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9251)),"D:\\PROJECTS\\GAMIFY IAS LMS\\V0 LATEST\\app\\student\\subjects\\[topicId]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"D:\\PROJECTS\\GAMIFY IAS LMS\\V0 LATEST\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\PROJECTS\\GAMIFY IAS LMS\\V0 LATEST\\app\\student\\subjects\\[topicId]\\page.tsx"],u="/student/subjects/[topicId]/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/student/subjects/[topicId]/page",pathname:"/student/subjects/[topicId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},411:(e,t,s)=>{Promise.resolve().then(s.bind(s,2918))},2918:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ee,dynamic:()=>Q});var r=s(326),n=s(7577),a=s(5047),i=s(2945),l=s(7506),o=s(2643),d=s(567),c=s(772),u=s(4432),m=s(3634);let p=(0,s(2881).Z)("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);var x=s(8393),f=s(1291),h=s(2933),v=s(2561),g=s(3095),j=s(2067),b=s(5819),y=s(8051),N=s(5226),w=s(9815),_=s(8957),S="Collapsible",[T,D]=(0,g.b)(S),[E,C]=T(S),I=n.forwardRef((e,t)=>{let{__scopeCollapsible:s,open:a,defaultOpen:i,disabled:l,onOpenChange:o,...d}=e,[c=!1,u]=(0,j.T)({prop:a,defaultProp:i,onChange:o});return(0,r.jsx)(E,{scope:s,disabled:l,contentId:(0,_.M)(),open:c,onOpenToggle:n.useCallback(()=>u(e=>!e),[u]),children:(0,r.jsx)(N.WV.div,{"data-state":k(c),"data-disabled":l?"":void 0,...d,ref:t})})});I.displayName=S;var A="CollapsibleTrigger",P=n.forwardRef((e,t)=>{let{__scopeCollapsible:s,...n}=e,a=C(A,s);return(0,r.jsx)(N.WV.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":k(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:(0,v.M)(e.onClick,a.onOpenToggle)})});P.displayName=A;var O="CollapsibleContent",M=n.forwardRef((e,t)=>{let{forceMount:s,...n}=e,a=C(O,e.__scopeCollapsible);return(0,r.jsx)(w.z,{present:s||a.open,children:({present:e})=>(0,r.jsx)(R,{...n,ref:t,present:e})})});M.displayName=O;var R=n.forwardRef((e,t)=>{let{__scopeCollapsible:s,present:a,children:i,...l}=e,o=C(O,s),[d,c]=n.useState(a),u=n.useRef(null),m=(0,y.e)(t,u),p=n.useRef(0),x=p.current,f=n.useRef(0),h=f.current,v=o.open||d,g=n.useRef(v),j=n.useRef(void 0);return n.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,b.b)(()=>{let e=u.current;if(e){j.current=j.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();p.current=t.height,f.current=t.width,g.current||(e.style.transitionDuration=j.current.transitionDuration,e.style.animationName=j.current.animationName),c(a)}},[o.open,a]),(0,r.jsx)(N.WV.div,{"data-state":k(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...l,ref:m,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":h?`${h}px`:void 0,...e.style},children:v&&i})});function k(e){return e?"open":"closed"}function Z({...e}){return r.jsx(I,{"data-slot":"collapsible",...e})}function L({...e}){return r.jsx(P,{"data-slot":"collapsible-trigger",...e})}function F({...e}){return r.jsx(M,{"data-slot":"collapsible-content",...e})}var $=s(4008);function U({xp:e,show:t,duration:s=1500}){let[a,i]=(0,n.useState)(t);return a?r.jsx("div",{className:"fixed top-20 right-4 z-50 pointer-events-none",children:r.jsx("div",{className:"animate-bounce",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-yellow-900 px-6 py-3 rounded-full font-bold shadow-lg border border-yellow-300",children:[r.jsx(m.Z,{className:"h-5 w-5 animate-pulse"}),(0,r.jsxs)("span",{children:["+",e," XP"]})]})})}):null}function z({trigger:e}){let[t,s]=(0,n.useState)([]);return 0===t.length?null:(0,r.jsxs)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[t.map(e=>r.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full",style:{left:`${e.left}%`,top:"-10px",animation:`fall ${e.duration}s linear ${e.delay}s forwards`}},e.id)),r.jsx("style",{children:`
        @keyframes fall {
          to {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
          }
        }
      `})]})}let X={note_read:()=>10,note_revise:()=>5,video_watch:()=>15,video_rewatch:()=>5,test_score:(e=0)=>e>=16?50:e>=11?25:e>=7?10:0,revision_complete:()=>10},q=e=>Math.floor(e/1e3)+1,V=(e,t,s)=>{try{let r=`cooldown_${e}_${t}_${s}`,n=localStorage.getItem(r);if(!n)return!0;return Date.now()-parseInt(n)>18e4}catch{return!0}},G=(e,t,s)=>{try{let r=`cooldown_${e}_${t}_${s}`;localStorage.setItem(r,Date.now().toString())}catch{console.warn("Failed to save cooldown")}},W=async(e,t,s,r,n)=>{let a=(0,i.e)();try{if(!V(e,t,s))return{success:!1,newTotalXP:0,xpEarned:0,leveledUp:!1,oldLevel:1,newLevel:1,error:"XP cooldown active. Try again in a few minutes."};let i=X[e](n);if(0===i)return{success:!0,newTotalXP:0,xpEarned:0,leveledUp:!1,oldLevel:1,newLevel:1};let{data:l,error:o}=await a.from("level_system").select("total_xp, current_level").eq("student_id",s).single(),d=0,c=1;if(o&&"PGRST116"!==o.code)throw Error(`Failed to fetch level system: ${o.message}`);l&&(d=l.total_xp||0,c=l.current_level||1);let u=d+i,m=q(u),p=m>c,{error:x}=await a.from("level_system").upsert({student_id:s,total_xp:u,current_level:m},{onConflict:"student_id"});if(x)throw Error(`Failed to update level system: ${x.message}`);let{error:f}=await a.from("xp_events").insert({student_id:s,topic_id:r,material_id:t,event_type:e,xp:i,created_at:new Date().toISOString()});return f&&console.warn("Failed to insert XP event:",f),G(e,t,s),{success:!0,newTotalXP:u,xpEarned:i,leveledUp:p,oldLevel:c,newLevel:m}}catch(t){let e=t instanceof Error?t.message:"Failed to award XP";return console.error("Error awarding XP:",e),{success:!1,newTotalXP:0,xpEarned:0,leveledUp:!1,oldLevel:1,newLevel:1,error:e}}};var Y=s(972),J=s(5573),B=s(4816);function H({materials:e,studentId:t,topicId:s,onXPAward:a,onOpenMaterial:f}){let[h,v]=(0,n.useState)({}),[g,j]=(0,n.useState)({}),[b,y]=(0,n.useState)({}),[N,w]=(0,n.useState)({}),[_,S]=(0,n.useState)(!0),[T,D]=(0,n.useState)({}),E=(0,i.e)(),{toast:C}=(0,$.pm)(),I=async(r,n)=>{try{await (0,Y.IS)(s,t,{video:"video",notes:"pdf",pdf:"pdf",slides:"pdf","test-solution":"pdf",reference:"pdf",extra:"pdf"}[n]||"pdf"),await a({video:"video_watch",notes:"note_read",pdf:"note_read",slides:"note_read","test-solution":"note_read",reference:"note_read",extra:"note_read"}[n]||"note_read",r),f(r,n);let i=e.find(e=>e.id===r);i&&window.open(i.resource_url,"_blank")}catch(e){console.error("Error opening material:",e)}},A=async(e,r,n=!1)=>{let i=n?`retest-${e}`:e;y(e=>({...e,[i]:!0}));try{let n=h[e]||[],i=n.length>0?Math.max(...n.map(e=>e.attempt_number))+1:1,{data:l,error:o}=await E.from("tests").insert({student_id:t,topic_id:s,test_material_id:e,attempt_number:i,score:r,max_score:20}).select();if(o)throw Error(`Failed to submit score: ${o.message}`);await a("test_score",e,r),l&&l.length>0&&v(t=>({...t,[e]:[l[0],...n]})),j(t=>({...t,[e]:void 0})),w(t=>({...t,[e]:!1}))}catch(e){console.error("Error submitting test score:",e),C({title:"Error",description:"Failed to submit test score.",variant:"destructive"})}finally{y(e=>({...e,[i]:!1}))}},P=(e,t)=>{let s=""===t?void 0:Math.min(Math.max(parseInt(t)||0,0),20);j(t=>({...t,[e]:s}))},O=(e=>{let t={video:[],notes:[],pdf:[],slides:[],test:[],"test-solution":[],reference:[],extra:[]};return e.forEach(e=>{e.content_type in t&&t[e.content_type].push(e)}),t})(e);if(!Object.values(O).some(e=>e.length>0))return r.jsx(o.Zb,{children:r.jsx(o.aY,{className:"pt-6",children:r.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"No study materials available for this topic yet."})})});let M=e=>e>=12?{label:"PASSED",color:"bg-green-100 text-green-800"}:{label:"FAILED",color:"bg-red-100 text-red-800"},R=(e,t,s,n,a=!1)=>0===s.length?null:r.jsx("div",{children:(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:(0,r.jsxs)(o.ll,{className:"text-lg flex items-center gap-2",children:[t," ",e]})}),r.jsx(o.aY,{children:r.jsx("div",{className:"space-y-4",children:s.map(e=>{let t=h[e.id]||[],s=t.length>0?t[0]:null,i=N[e.id],o=g[e.id],f=b[i?`retest-${e.id}`:e.id];return(0,r.jsxs)("div",{className:"rounded-lg border p-4 hover:bg-muted/50",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-sm",children:e.title}),r.jsx(d.C,{variant:"secondary",className:"mt-2",children:e.content_type})]}),r.jsx("div",{className:"flex gap-2",children:(0,r.jsxs)(c.z,{onClick:()=>I(e.id,e.content_type),size:"sm",variant:"outline",className:"gap-1",children:[r.jsx(m.Z,{className:"h-3 w-3"}),n]})})]}),a&&(0,r.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[s&&!i&&r.jsx("div",{className:"rounded-lg bg-muted p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm font-semibold",children:["Latest Score: ",s.score," / ",s.max_score]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Attempt #",s.attempt_number]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Taken on: ",new Date(s.created_at).toLocaleDateString()]})]}),r.jsx(d.C,{className:M(s.score).color,children:M(s.score).label})]})}),!s||i?(0,r.jsxs)("div",{className:"flex items-end gap-2",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:"Score (out of 20)"}),r.jsx(u.I,{type:"number",min:"0",max:"20",placeholder:"Enter your score",value:o??"",onChange:t=>P(e.id,t.target.value),disabled:f})]}),r.jsx(c.z,{onClick:()=>A(e.id,o||0,i),disabled:void 0===o||f,size:"sm",children:f?(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.Z,{className:"h-3 w-3 mr-1 animate-spin"}),"Submitting"]}):i?"Resubmit":"Submit"}),i&&r.jsx(c.z,{onClick:()=>{w(t=>({...t,[e.id]:!1})),j(t=>({...t,[e.id]:void 0}))},variant:"outline",size:"sm",children:"Cancel"})]}):(0,r.jsxs)(c.z,{onClick:()=>w(t=>({...t,[e.id]:!0})),variant:"outline",size:"sm",className:"w-full",children:[r.jsx(p,{className:"h-3 w-3 mr-2"}),"Retest"]}),t.length>1&&(0,r.jsxs)(Z,{open:T[e.id]||!1,onOpenChange:t=>D(s=>({...s,[e.id]:t})),children:[r.jsx(L,{asChild:!0,children:(0,r.jsxs)(c.z,{variant:"ghost",size:"sm",className:"w-full h-8",children:[r.jsx(x.Z,{className:"h-4 w-4 mr-2"}),"Attempt History (",t.length,")"]})}),r.jsx(F,{className:"space-y-2 mt-2",children:t.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-muted p-3 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium",children:["Attempt #",e.attempt_number]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"font-semibold",children:[e.score,"/",e.max_score]}),r.jsx(d.C,{className:M(e.score).color,children:M(e.score).label})]})]},e.id))})]})]})]},e.id)})})})]})},e),{video:k,notes:U,pdf:z,slides:X,test:q,"test-solution":V,reference:G,extra:W}=O;return(0,r.jsxs)("div",{className:"space-y-6",children:[R("\uD83C\uDFAC Videos",r.jsx(m.Z,{className:"h-4 w-4"}),k,"Watch"),R("\uD83D\uDCDD Notes",r.jsx(m.Z,{className:"h-4 w-4"}),U,"Read"),R("\uD83D\uDCC4 PDFs",r.jsx(m.Z,{className:"h-4 w-4"}),z,"Read"),R("\uD83D\uDDBC️ Slides",r.jsx(m.Z,{className:"h-4 w-4"}),X,"Read"),R("✍️ Tests",r.jsx(m.Z,{className:"h-4 w-4"}),q,"Start",!0)]})}let K=({topicId:e,studentId:t,showSidebar:s=!0})=>{let a=(0,i.e)(),{toast:d}=(0,$.pm)(),[u,m]=(0,n.useState)(null),[p,x]=(0,n.useState)([]),[v,g]=(0,n.useState)(!0),[j,b]=(0,n.useState)(null),[y,N]=(0,n.useState)({show:!1,xp:0}),[w,_]=(0,n.useState)(!1),{tabs:S,refetchTabs:T,handleCompleteRevision:D}=(0,J.n)(t),E={overdue:S.overdue.filter(t=>t.topic_id===e),today:S.today.filter(t=>t.topic_id===e),upcoming:S.upcoming.filter(t=>t.topic_id===e)},C=(0,n.useCallback)(async()=>{g(!0),b(null);try{let{data:t,error:s}=await a.from("topics").select("*").eq("id",e).single();if(s||!t)throw Error(s?.message||"Topic not found");m(t);let{data:r,error:n}=await a.from("study_materials").select("*").eq("topic_id",e).order("created_at",{ascending:!0});if(n)throw Error(n.message);x(r||[])}catch(e){b(e.message),console.error("Error fetching topic data:",e)}finally{g(!1)}},[a,e]);(0,n.useEffect)(()=>{e&&t&&C()},[e,t,C]);let I=async(s,r,n)=>{try{let{xpEarned:a,leveledUp:i}=await W(s,r,t,e,n);a>0&&(N({show:!0,xp:a}),setTimeout(()=>N({show:!1,xp:0}),3e3)),i&&(_(!0),setTimeout(()=>_(!1),5e3))}catch(e){console.error("Error awarding XP:",e),d({title:"XP Award Failed",description:"Could not award XP for this action.",variant:"destructive"})}},A=async e=>{await D(e)?d({title:"Revision Complete!",description:"Great job! Keep up the momentum."}):d({title:"Error",description:"Could not complete revision. Please try again.",variant:"destructive"})};if(v)return r.jsx("div",{className:"flex h-full w-full items-center justify-center",children:r.jsx(l.Z,{className:"h-8 w-8 animate-spin"})});if(j)return r.jsx("div",{className:"flex h-full w-full items-center justify-center",children:(0,r.jsxs)(o.Zb,{className:"w-96 bg-destructive/10 border-destructive",children:[r.jsx(o.Ol,{children:r.jsx(o.ll,{children:"Oops! Something went wrong."})}),(0,r.jsxs)(o.aY,{children:[r.jsx("p",{children:j}),r.jsx(c.z,{onClick:C,className:"mt-4",children:"Try again"})]})]})});if(!u)return r.jsx("div",{className:"flex h-full w-full items-center justify-center",children:r.jsx("p",{children:"Topic not found."})});let P=(0,r.jsxs)("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[r.jsx(z,{trigger:w}),r.jsx(U,{show:y.show,xp:y.xp}),r.jsx(o.Zb,{children:r.jsx(o.Ol,{children:r.jsx("div",{className:"flex justify-between items-start",children:(0,r.jsxs)("div",{children:[r.jsx(o.ll,{className:"text-2xl font-bold",children:u.name}),r.jsx(o.SZ,{className:"mt-2",children:u.description})]})})})}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx(H,{materials:p,studentId:t,topicId:e,onXPAward:I,onOpenMaterial:(e,t)=>{T()}}),(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:r.jsx(o.ll,{children:"Resources"})}),r.jsx(o.aY,{children:r.jsx("p",{className:"text-sm text-muted-foreground",children:'Study all available materials above. Click any "Open" button to earn XP!'})})]})]}),(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{children:[r.jsx(o.ll,{children:"\uD83C\uDFDB️ Training Dojo"}),(0,r.jsxs)(o.SZ,{children:["Revision schedule - ",E.overdue.length+E.today.length+E.upcoming.length," total for this topic"]})]}),(0,r.jsxs)(o.aY,{className:"space-y-4",children:[E.overdue.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(f.Z,{className:"h-4 w-4 text-red-500"}),(0,r.jsxs)("h4",{className:"font-semibold text-sm",children:["\uD83D\uDD34 Overdue (",E.overdue.length,")"]})]}),E.overdue.map(e=>r.jsx(o.Zb,{className:"p-3 bg-red-50 border-red-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm font-medium",children:[e.material_type.toUpperCase()," - Rev ",e.revision_number]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Due: ",new Date(e.due_date).toLocaleDateString()]})]}),(0,r.jsxs)(c.z,{size:"sm",onClick:()=>A(e.id),children:[r.jsx(h.Z,{className:"h-3 w-3 mr-1"}),"Complete"]})]})},e.id))]}),E.today.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(f.Z,{className:"h-4 w-4 text-yellow-500"}),(0,r.jsxs)("h4",{className:"font-semibold text-sm",children:["\uD83D\uDFE0 Today (",E.today.length,")"]})]}),E.today.map(e=>r.jsx(o.Zb,{className:"p-3 bg-yellow-50 border-yellow-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm font-medium",children:[e.material_type.toUpperCase()," - Rev ",e.revision_number]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Due today"})]}),(0,r.jsxs)(c.z,{size:"sm",onClick:()=>A(e.id),children:[r.jsx(h.Z,{className:"h-3 w-3 mr-1"}),"Complete"]})]})},e.id))]}),E.upcoming.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(h.Z,{className:"h-4 w-4 text-green-500"}),(0,r.jsxs)("h4",{className:"font-semibold text-sm",children:["\uD83D\uDFE2 Upcoming (",E.upcoming.length,")"]})]}),E.upcoming.slice(0,3).map(e=>r.jsx(o.Zb,{className:"p-3 bg-green-50 border-green-200",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm font-medium",children:[e.material_type.toUpperCase()," - Rev ",e.revision_number]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Due: ",new Date(e.due_date).toLocaleDateString()]})]})},e.id))]}),0===E.overdue.length&&0===E.today.length&&0===E.upcoming.length&&r.jsx("p",{className:"text-muted-foreground text-center text-sm py-4",children:"No revisions scheduled for this topic yet. Open materials to start!"})]})]})]})]});return s?(0,r.jsxs)("div",{className:"flex h-screen bg-background",children:[r.jsx(B.StudentSidebar,{}),r.jsx("div",{className:"flex-1 overflow-auto",children:P})]}):r.jsx("div",{className:"flex-1 overflow-auto",children:P})},Q="force-dynamic";function ee(){let e=(0,a.useParams)(),t=e?.topicId,[s,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(!0);return((0,i.e)(),d)?(0,r.jsxs)("div",{className:"flex h-screen bg-background",children:[r.jsx(B.StudentSidebar,{}),r.jsx("div",{className:"flex-1 flex justify-center items-center",children:r.jsx(l.Z,{className:"w-8 h-8 animate-spin"})})]}):s&&t?(0,r.jsxs)("div",{className:"flex h-screen bg-background",children:[r.jsx(B.StudentSidebar,{}),r.jsx(K,{topicId:t,studentId:s,showSidebar:!1})]}):(0,r.jsxs)("div",{className:"flex h-screen bg-background",children:[r.jsx(B.StudentSidebar,{}),r.jsx("div",{className:"flex-1 flex justify-center items-center text-destructive",children:"Missing required parameters"})]})}},4432:(e,t,s)=>{"use strict";s.d(t,{I:()=>a});var r=s(326);s(7577);var n=s(7863);function a({className:e,type:t,...s}){return r.jsx("input",{type:t,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}},4008:(e,t,s)=>{"use strict";s.d(t,{pm:()=>m});var r=s(7577);let n=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u({...e}){let t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8393:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},9251:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a,dynamic:()=>n});var r=s(8570);let n=(0,r.createProxy)(String.raw`D:\PROJECTS\GAMIFY IAS LMS\V0 LATEST\app\student\subjects\[topicId]\page.tsx#dynamic`),a=(0,r.createProxy)(String.raw`D:\PROJECTS\GAMIFY IAS LMS\V0 LATEST\app\student\subjects\[topicId]\page.tsx#default`)},2561:(e,t,s)=>{"use strict";function r(e,t,{checkForDefaultPrevented:s=!0}={}){return function(r){if(e?.(r),!1===s||!r.defaultPrevented)return t?.(r)}}s.d(t,{M:()=>r})},3095:(e,t,s)=>{"use strict";s.d(t,{b:()=>i,k:()=>a});var r=s(7577),n=s(326);function a(e,t){let s=r.createContext(t),a=e=>{let{children:t,...a}=e,i=r.useMemo(()=>a,Object.values(a));return(0,n.jsx)(s.Provider,{value:i,children:t})};return a.displayName=e+"Provider",[a,function(n){let a=r.useContext(s);if(a)return a;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function i(e,t=[]){let s=[],a=()=>{let t=s.map(e=>r.createContext(e));return function(s){let n=s?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:n}}),[s,n])}};return a.scopeName=e,[function(t,a){let i=r.createContext(a),l=s.length;s=[...s,a];let o=t=>{let{scope:s,children:a,...o}=t,d=s?.[e]?.[l]||i,c=r.useMemo(()=>o,Object.values(o));return(0,n.jsx)(d.Provider,{value:c,children:a})};return o.displayName=t+"Provider",[o,function(s,n){let o=n?.[e]?.[l]||i,d=r.useContext(o);if(d)return d;if(void 0!==a)return a;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=s.reduce((t,{useScope:s,scopeName:r})=>{let n=s(e)[`__scope${r}`];return{...t,...n}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return s.scopeName=t.scopeName,s}(a,...t)]}},8957:(e,t,s)=>{"use strict";s.d(t,{M:()=>o});var r,n=s(7577),a=s(5819),i=(r||(r=s.t(n,2)))["useId".toString()]||(()=>void 0),l=0;function o(e){let[t,s]=n.useState(i());return(0,a.b)(()=>{e||s(e=>e??String(l++))},[e]),e||(t?`radix-${t}`:"")}},9815:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(7577),n=s(8051),a=s(5819),i=e=>{let{present:t,children:s}=e,i=function(e){var t,s;let[n,i]=r.useState(),o=r.useRef({}),d=r.useRef(e),c=r.useRef("none"),[u,m]=(t=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>s[e][t]??e,t));return r.useEffect(()=>{let e=l(o.current);c.current="mounted"===u?e:"none"},[u]),(0,a.b)(()=>{let t=o.current,s=d.current;if(s!==e){let r=c.current,n=l(t);e?m("MOUNT"):"none"===n||t?.display==="none"?m("UNMOUNT"):s&&r!==n?m("ANIMATION_OUT"):m("UNMOUNT"),d.current=e}},[e,m]),(0,a.b)(()=>{if(n){let e;let t=n.ownerDocument.defaultView??window,s=s=>{let r=l(o.current).includes(s.animationName);if(s.target===n&&r&&(m("ANIMATION_END"),!d.current)){let s=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=s)})}},r=e=>{e.target===n&&(c.current=l(o.current))};return n.addEventListener("animationstart",r),n.addEventListener("animationcancel",s),n.addEventListener("animationend",s),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",r),n.removeEventListener("animationcancel",s),n.removeEventListener("animationend",s)}}m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:r.useCallback(e=>{e&&(o.current=getComputedStyle(e)),i(e)},[])}}(t),o="function"==typeof s?s({present:i.isPresent}):r.Children.only(s),d=(0,n.e)(i.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(s=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(o));return"function"==typeof s||i.isPresent?r.cloneElement(o,{ref:d}):null};function l(e){return e?.animationName||"none"}i.displayName="Presence"},5226:(e,t,s)=>{"use strict";s.d(t,{WV:()=>l,jH:()=>o});var r=s(7577),n=s(962),a=s(4214),i=s(326),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let s=r.forwardRef((e,s)=>{let{asChild:r,...n}=e,l=r?a.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...n,ref:s})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function o(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}},5049:(e,t,s)=>{"use strict";s.d(t,{W:()=>n});var r=s(7577);function n(e){let t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...e)=>t.current?.(...e),[])}},2067:(e,t,s)=>{"use strict";s.d(t,{T:()=>a});var r=s(7577),n=s(5049);function a({prop:e,defaultProp:t,onChange:s=()=>{}}){let[a,i]=function({defaultProp:e,onChange:t}){let s=r.useState(e),[a]=s,i=r.useRef(a),l=(0,n.W)(t);return r.useEffect(()=>{i.current!==a&&(l(a),i.current=a)},[a,i,l]),s}({defaultProp:t,onChange:s}),l=void 0!==e,o=l?e:a,d=(0,n.W)(s);return[o,r.useCallback(t=>{if(l){let s="function"==typeof t?t(e):t;s!==e&&d(s)}else i(t)},[l,e,i,d])]}},5819:(e,t,s)=>{"use strict";s.d(t,{b:()=>n});var r=s(7577),n=globalThis?.document?r.useLayoutEffect:()=>{}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[669,399,404,93],()=>s(7571));module.exports=r})();