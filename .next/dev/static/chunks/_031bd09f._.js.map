{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTS/GAMIFY%20IAS%20LMS/V0%20LATEST/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\"\n\nexport function createClient() {\n  return createBrowserClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!)\n}\n"],"names":[],"mappings":";;;;AAG6B;AAH7B;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,oMAAmB;AAC5B"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTS/GAMIFY%20IAS%20LMS/V0%20LATEST/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTS/GAMIFY%20IAS%20LMS/V0%20LATEST/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTS/GAMIFY%20IAS%20LMS/V0%20LATEST/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTS/GAMIFY%20IAS%20LMS/V0%20LATEST/components/ui/progress.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as ProgressPrimitive from '@radix-ui/react-progress'\n\nimport { cn } from '@/lib/utils'\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        'bg-primary/20 relative h-2 w-full overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD;IACpD,qBACE,6LAAC,+KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIlE;KArBS"}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTS/GAMIFY%20IAS%20LMS/V0%20LATEST/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTS/GAMIFY%20IAS%20LMS/V0%20LATEST/components/student-sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { LayoutDashboard, Trophy, Settings, LogOut, Zap, Scroll, Flame, Users2, BookOpen, User, UserCheck } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { useRouter } from \"next/navigation\"\nimport { useEffect, useState } from \"react\"\n\nexport function StudentSidebar() {\n  const pathname = usePathname()\n  const router = useRouter()\n  const supabase = createClient()\n\n  // fetch current student profile for header display\n  const [fullName, setFullName] = useState<string | null>(null)\n  const [avatarUrl, setAvatarUrl] = useState<string | null>(null)\n\n  useEffect(() => {\n    let mounted = true\n    const loadProfile = async () => {\n      try {\n        const {\n          data: { user },\n        } = await supabase.auth.getUser()\n        if (!user?.id) return\n        const { data: profile } = await supabase\n          .from(\"profiles\")\n          .select(\"full_name, avatar_url\")\n          .eq(\"id\", user.id)\n          .maybeSingle()\n        if (!mounted) return\n        setFullName(profile?.full_name ?? null)\n        setAvatarUrl(profile?.avatar_url ?? null)\n      } catch (err) {\n        // non-blocking\n        console.warn(\"Error loading sidebar profile\", err)\n      }\n    }\n    loadProfile()\n    return () => { mounted = false }\n  }, [supabase])\n\n  const handleLogout = async () => {\n    const supabaseClient = createClient()\n    await supabaseClient.auth.signOut()\n    router.push(\"/auth/login\")\n  }\n\n  const menuItems = [\n    {\n      icon: LayoutDashboard,\n      label: \"Home\",\n      href: \"/student/dashboard\",\n    },\n    {\n      icon: Scroll,\n      label: \"Quest Log\",\n      href: \"/student/quest-log\",\n    },\n    {\n      icon: Flame,\n      label: \"Training Dojo\",\n      href: \"/student/training-dojo\",\n    },\n    {\n      icon: BookOpen,\n      label: \"Subjects\",\n      href: \"/student/subjects\",\n    },\n    {\n      icon: UserCheck,\n      label: \"Mentor\",\n      href: \"/student/mentor\",\n    },\n    {\n      icon: Trophy,\n      label: \"Leaderboard\",\n      href: \"/student/leaderboard\",\n    },\n    {\n      icon: Settings,\n      label: \"Profile\",\n      href: \"/student/profile\",\n    },\n  ]\n\n  return (\n    <div className=\"hidden md:flex flex-col w-64 bg-sidebar border-r border-sidebar-border h-screen\">\n      <div className=\"p-6 border-b border-sidebar-border\">\n        <Link href=\"/student/dashboard\" className=\"flex items-center gap-2\">\n          <div className=\"w-8 h-8 rounded-lg bg-gradient-to-r from-primary to-accent flex items-center justify-center\">\n            <Zap className=\"w-5 h-5 text-white\" />\n          </div>\n          <div>\n            <h1 className=\"font-bold text-sidebar-foreground\">Gamify IAS Academy</h1>\n            <p className=\"text-xs text-sidebar-accent\">Student Panel</p>\n          </div>\n        </Link>\n\n        {/* Student profile snippet */}\n        <div className=\"mt-4 flex items-center gap-3\">\n          {avatarUrl ? (\n            <img src={avatarUrl} alt={fullName ?? \"Student\"} className=\"w-10 h-10 rounded-full object-cover\" />\n          ) : (\n            <div className=\"w-10 h-10 rounded-full bg-muted flex items-center justify-center\">\n              <User className=\"w-5 h-5\" />\n            </div>\n          )}\n          <a href=\"/student/profile\" className=\"block w-full text-left\">\n            <div className=\"text-sm font-medium\">{fullName ?? \"Student\"}</div>\n            <div className=\"text-xs text-muted-foreground\">Student</div>\n          </a>\n        </div>\n      </div>\n\n      <nav className=\"flex-1 p-4 space-y-2 overflow-y-auto\">\n        {menuItems.map((item) => {\n          const Icon = item.icon\n          const isActive = pathname === item.href || pathname.startsWith(item.href + \"/\")\n          return (\n            <Link key={item.href} href={item.href}>\n              <Button\n                variant={isActive ? \"default\" : \"ghost\"}\n                className={cn(\n                  \"w-full justify-start gap-3\",\n                  isActive && \"bg-sidebar-primary text-sidebar-primary-foreground\",\n                )}\n              >\n                <Icon className=\"w-4 h-4\" />\n                {item.label}\n              </Button>\n            </Link>\n          )\n        })}\n      </nav>\n\n      <div className=\"p-4 border-t border-sidebar-border space-y-2\">\n        <Button onClick={handleLogout} variant=\"outline\" className=\"w-full justify-start gap-2 bg-transparent\">\n          <LogOut className=\"w-4 h-4\" />\n          Logout\n        </Button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 633, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTS/GAMIFY%20IAS%20LMS/V0%20LATEST/app/student/subjects/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { createClient } from \"@/lib/supabase/client\"\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Progress } from \"@/components/ui/progress\"\r\nimport { Loader2, BookOpen, ChevronRight } from \"lucide-react\"\r\nimport Link from \"next/link\"\r\nimport { StudentSidebar } from \"@/components/student-sidebar\"\r\n\r\ninterface Subject {\r\n  id: string\r\n  name: string\r\n  description: string\r\n}\r\n\r\ninterface TopicStats {\r\n  topicId: string\r\n  topicName: string\r\n  progress: number\r\n  status: \"MASTERED\" | \"GOOD\" | \"NEEDS_WORK\" | \"Not Started\"\r\n  revisionsCompleted: number\r\n  totalRevisions: number\r\n  materialsCompleted: number\r\n  totalMaterials: number\r\n  hasStarted: boolean\r\n  testScore: number\r\n  totalXP: number\r\n  lastRevisionDate: string | null\r\n}\r\n\r\ninterface SubjectWithTopics {\r\n  subject: Subject\r\n  topics: TopicStats[]\r\n  completedTopics: number\r\n  totalTopics: number\r\n  averageProgress: number\r\n}\r\n\r\n// =============================\r\n// Utility Functions\r\n// =============================\r\n\r\nconst getStatusFromXP = (totalXP: number): \"MASTERED\" | \"GOOD\" | \"NEEDS_WORK\" => {\r\n  if (totalXP >= 180) return \"MASTERED\"\r\n  if (totalXP >= 120) return \"GOOD\"\r\n  return \"NEEDS_WORK\"\r\n}\r\n\r\nconst isRevisionAllowedToday = (lastRevisionDate: string | null): boolean => {\r\n  if (!lastRevisionDate) return true\r\n  \r\n  const lastDate = new Date(lastRevisionDate)\r\n  const today = new Date()\r\n  \r\n  // Reset time to compare only dates\r\n  lastDate.setHours(0, 0, 0, 0)\r\n  today.setHours(0, 0, 0, 0)\r\n  \r\n  // Allow if last revision was on a different day\r\n  return lastDate.getTime() !== today.getTime()\r\n}\r\n\r\nexport default function SubjectsPage() {\r\n  const [subjects, setSubjects] = useState<SubjectWithTopics[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const supabase = createClient()\r\n\r\n  useEffect(() => {\r\n    const fetchSubjects = async () => {\r\n      try {\r\n        setLoading(true)\r\n\r\n        // Get current user\r\n        const {\r\n          data: { user },\r\n        } = await supabase.auth.getUser()\r\n\r\n        if (!user?.id) {\r\n          setError(\"User not authenticated\")\r\n          return\r\n        }\r\n\r\n        // Fetch all subjects\r\n        const { data: subjectsData, error: subjectsError } = await supabase\r\n          .from(\"subjects\")\r\n          .select(\"*\")\r\n          .order(\"name\", { ascending: true })\r\n\r\n        if (subjectsError) throw new Error(`Failed to fetch subjects: ${subjectsError.message}`)\r\n\r\n        if (!subjectsData || subjectsData.length === 0) {\r\n          setSubjects([])\r\n          setLoading(false)\r\n          return\r\n        }\r\n\r\n        // For each subject, fetch topics, progress, revisions, and materials\r\n        const subjectsWithTopics: SubjectWithTopics[] = await Promise.all(\r\n          subjectsData.map(async (subject) => {\r\n            try {\r\n              // Fetch topics for this subject\r\n              const { data: topicsData, error: topicsError } = await supabase\r\n                .from(\"topics\")\r\n                .select(\"id, name, description\")\r\n                .eq(\"subject_id\", subject.id)\r\n                .order(\"name\", { ascending: true })\r\n\r\n              if (topicsError) {\r\n                console.warn(`Error fetching topics for subject ${subject.id}:`, topicsError)\r\n                return {\r\n                  subject,\r\n                  topics: [],\r\n                  completedTopics: 0,\r\n                  totalTopics: 0,\r\n                  averageProgress: 0,\r\n                }\r\n              }\r\n\r\n              if (!topicsData || topicsData.length === 0) {\r\n                return {\r\n                  subject,\r\n                  topics: [],\r\n                  completedTopics: 0,\r\n                  totalTopics: 0,\r\n                  averageProgress: 0,\r\n                }\r\n              }\r\n\r\n              const topicIds = topicsData.map((t) => t.id)\r\n\r\n              // Fetch progress for all topics\r\n              const { data: progressData } = await supabase\r\n                .from(\"topic_progress\")\r\n                .select(\"topic_id, progress_percentage, status, total_xp, test_score\")\r\n                .eq(\"student_id\", user.id)\r\n                .in(\"topic_id\", topicIds)\r\n\r\n              // Fetch revision schedule for all topics\r\n              const { data: revisionData } = await supabase\r\n                .from(\"revision_schedule\")\r\n                .select(\"topic_id, is_completed, completed_date\")\r\n                .eq(\"student_id\", user.id)\r\n                .in(\"topic_id\", topicIds)\r\n\r\n              // Fetch study materials for all topics\r\n              const { data: materialsData } = await supabase\r\n                .from(\"study_materials\")\r\n                .select(\"id, topic_id, content_type\")\r\n                .in(\"topic_id\", topicIds)\r\n\r\n              // Fetch XP events to check if materials have been accessed/completed\r\n              const { data: xpEventsData } = await supabase\r\n                .from(\"xp_events\")\r\n                .select(\"material_id, event_type\")\r\n                .eq(\"student_id\", user.id)\r\n                .in(\"material_id\", (materialsData || []).map((m) => m.id))\r\n\r\n              // FIXED: Fetch ALL test attempts and map latest by material\r\n              const { data: testAttemptsData } = await supabase\r\n                .from(\"tests\")\r\n                .select(\"test_material_id, score, max_score, created_at\")\r\n                .eq(\"student_id\", user.id)\r\n                .in(\"test_material_id\", (materialsData || []).filter((m) => m.content_type === \"test\").map((m) => m.id))\r\n                .order(\"created_at\", { ascending: false })\r\n\r\n              // FIXED: Create a map of latest test score per material\r\n              const latestTestByMaterial = new Map<string, any>()\r\n              testAttemptsData?.forEach((attempt) => {\r\n                if (!latestTestByMaterial.has(attempt.test_material_id)) {\r\n                  latestTestByMaterial.set(attempt.test_material_id, attempt)\r\n                }\r\n              })\r\n\r\n              // Map topics with their complete stats\r\n              const topicsWithStats: TopicStats[] = topicsData.map((topic) => {\r\n                const progress = progressData?.find((p) => p.topic_id === topic.id)\r\n                const topicRevisions = revisionData?.filter((r) => r.topic_id === topic.id) || []\r\n                const completedRevisions = topicRevisions.filter((r) => r.is_completed).length\r\n\r\n                // Check if topic has been started (has entries in revision_schedule)\r\n                const hasStarted = topicRevisions.length > 0\r\n\r\n                // Get latest revision date\r\n                const latestRevision = topicRevisions\r\n                  .filter((r) => r.completed_date)\r\n                  .sort((a, b) => new Date(b.completed_date!).getTime() - new Date(a.completed_date!).getTime())\r\n                  .at(0)\r\n                const lastRevisionDate = latestRevision?.completed_date || null\r\n\r\n                // Get materials for this topic\r\n                const topicMaterials = materialsData?.filter((m) => m.topic_id === topic.id) || []\r\n                let materialsCompleted = 0\r\n                let totalMaterials = topicMaterials.length\r\n\r\n                // Check completion for each material type\r\n                topicMaterials.forEach((material) => {\r\n                  if (material.content_type === \"video\" || material.content_type === \"notes\") {\r\n                    // Video or notes completed if accessed (XP event exists)\r\n                    const hasAccessed = xpEventsData?.some(\r\n                      (e) => e.material_id === material.id && \r\n                      (e.event_type === \"video_watch\" || e.event_type === \"note_read\")\r\n                    )\r\n                    if (hasAccessed) materialsCompleted++\r\n                  } else if (material.content_type === \"test\") {\r\n                    // Test completed if passed (score >= 12)\r\n                    const testResult = latestTestByMaterial.get(material.id)\r\n                    if (testResult && testResult.score >= 12) {\r\n                      materialsCompleted++\r\n                    }\r\n                  } else {\r\n                    // Other materials (pdf, slides, etc.) completed if accessed\r\n                    const hasAccessed = xpEventsData?.some((e) => e.material_id === material.id)\r\n                    if (hasAccessed) materialsCompleted++\r\n                  }\r\n                })\r\n\r\n                // Calculate progress based on whether topic has started\r\n                let calculatedProgress = 0\r\n\r\n                if (!hasStarted) {\r\n                  // Topic not started yet\r\n                  calculatedProgress = 0\r\n                } else {\r\n                  // Topic has started - calculate progress\r\n                  // Materials progress (50%)\r\n                  const materialsProgress = totalMaterials > 0 ? (materialsCompleted / totalMaterials) * 100 : 0\r\n                  calculatedProgress += materialsProgress * 0.5\r\n\r\n                  // Revision progress (30%)\r\n                  const revisionProgress = topicRevisions.length > 0 ? (completedRevisions / topicRevisions.length) * 100 : 0\r\n                  calculatedProgress += revisionProgress * 0.3\r\n\r\n                  // Topic progress (20%)\r\n                  const topicProgress = progress?.progress_percentage || 0\r\n                  calculatedProgress += topicProgress * 0.2\r\n\r\n                  calculatedProgress = Math.round(calculatedProgress)\r\n                }\r\n\r\n                // Ensure minimum 1% if started but no progress\r\n                if (hasStarted && calculatedProgress === 0) {\r\n                  calculatedProgress = 1\r\n                }\r\n\r\n                // FIXED: Get latest test score for this topic (from topic_progress which stores it)\r\n                const testScore = progress?.test_score || 0\r\n\r\n                // FIXED: Get total XP from topic_progress\r\n                const totalXP = progress?.total_xp || 0\r\n\r\n                // FIXED: Calculate status based on actual totalXP value\r\n                let calculatedStatus: \"MASTERED\" | \"GOOD\" | \"NEEDS_WORK\"\r\n                if (totalXP >= 180) {\r\n                  calculatedStatus = \"MASTERED\"\r\n                } else if (totalXP >= 120) {\r\n                  calculatedStatus = \"GOOD\"\r\n                } else {\r\n                  calculatedStatus = \"NEEDS_WORK\"\r\n                }\r\n\r\n                // Topic is complete only if all materials are completed and all revisions are done\r\n                const isTopicComplete = \r\n                  hasStarted &&\r\n                  materialsCompleted === totalMaterials && \r\n                  completedRevisions === topicRevisions.length &&\r\n                  totalMaterials > 0\r\n\r\n                return {\r\n                  topicId: topic.id,\r\n                  topicName: topic.name,\r\n                  progress: isTopicComplete ? 100 : calculatedProgress,\r\n                  status: isTopicComplete ? \"MASTERED\" : calculatedStatus,\r\n                  revisionsCompleted: completedRevisions,\r\n                  totalRevisions: topicRevisions.length,\r\n                  materialsCompleted,\r\n                  totalMaterials,\r\n                  hasStarted,\r\n                  testScore,\r\n                  totalXP,\r\n                  lastRevisionDate,\r\n                }\r\n              })\r\n\r\n              // Subject is complete only if all topics are 100%\r\n              const completedTopics = topicsWithStats.filter((t) => t.progress === 100).length\r\n              const averageProgress =\r\n                topicsWithStats.length > 0\r\n                  ? Math.round(topicsWithStats.reduce((sum, t) => sum + t.progress, 0) / topicsWithStats.length)\r\n                  : 0\r\n\r\n              return {\r\n                subject,\r\n                topics: topicsWithStats,\r\n                completedTopics,\r\n                totalTopics: topicsWithStats.length,\r\n                averageProgress,\r\n              }\r\n            } catch (err) {\r\n              console.error(`Error processing subject ${subject.id}:`, err)\r\n              return {\r\n                subject,\r\n                topics: [],\r\n                completedTopics: 0,\r\n                totalTopics: 0,\r\n                averageProgress: 0,\r\n              }\r\n            }\r\n          })\r\n        )\r\n\r\n        setSubjects(subjectsWithTopics)\r\n      } catch (err) {\r\n        const errorMsg = err instanceof Error ? err.message : \"Failed to load subjects\"\r\n        setError(errorMsg)\r\n        console.error(\"Error fetching subjects:\", err)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchSubjects()\r\n  }, [supabase])\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex h-screen bg-background\">\r\n        <StudentSidebar />\r\n        <div className=\"flex-1 flex justify-center items-center\">\r\n          <Loader2 className=\"w-8 h-8 animate-spin\" />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"flex h-screen bg-background\">\r\n        <StudentSidebar />\r\n        <div className=\"flex-1 overflow-auto p-6\">\r\n          <Card className=\"border-destructive\">\r\n            <CardContent className=\"p-6\">\r\n              <p className=\"text-destructive\">Error: {error}</p>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (subjects.length === 0) {\r\n    return (\r\n      <div className=\"flex h-screen bg-background\">\r\n        <StudentSidebar />\r\n        <div className=\"flex-1 overflow-auto p-6\">\r\n          <div className=\"text-center\">\r\n            <BookOpen className=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\r\n            <h1 className=\"text-2xl font-bold mb-2\">No Subjects Available</h1>\r\n            <p className=\"text-muted-foreground\">Subjects will appear here once your instructor creates them.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-background\">\r\n      <StudentSidebar />\r\n      <div className=\"flex-1 overflow-auto\">\r\n        <div className=\"container mx-auto p-6\">\r\n          <div className=\"mb-8\">\r\n            <h1 className=\"text-3xl font-bold\">üìö Subjects</h1>\r\n            <p className=\"text-muted-foreground mt-2\">Explore and master your subjects</p>\r\n          </div>\r\n\r\n          <div className=\"grid gap-6\">\r\n            {subjects.map((subjectData) => (\r\n              <Card key={subjectData.subject.id} className=\"hover:shadow-lg transition-shadow\">\r\n                <CardHeader>\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"flex-1\">\r\n                      <CardTitle className=\"text-2xl\">{subjectData.subject.name}</CardTitle>\r\n                      <CardDescription className=\"mt-2\">{subjectData.subject.description}</CardDescription>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <Badge variant={subjectData.averageProgress === 100 ? \"default\" : \"outline\"}>\r\n                        {subjectData.completedTopics}/{subjectData.totalTopics} completed\r\n                      </Badge>\r\n                    </div>\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  {/* Subject Progress */}\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-sm font-medium\">Subject Progress</span>\r\n                      <span className=\"text-sm font-bold\">{subjectData.averageProgress}%</span>\r\n                    </div>\r\n                    <Progress value={subjectData.averageProgress} className=\"h-3\" />\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      Complete all topics to reach 100%\r\n                    </p>\r\n                  </div>\r\n\r\n                  {/* Topics List */}\r\n                  {subjectData.totalTopics > 0 ? (\r\n                    <div className=\"space-y-2\">\r\n                      <h4 className=\"text-sm font-semibold mb-3\">Topics</h4>\r\n                      {subjectData.topics.map((topic) => {\r\n                        const canReviseToday = isRevisionAllowedToday(topic.lastRevisionDate)\r\n\r\n                        return (\r\n                          <Link\r\n                            key={topic.topicId}\r\n                            href={`/student/subjects/${topic.topicId}`}\r\n                          >\r\n                            <div className=\"flex items-center justify-between p-3 rounded-lg border hover:bg-muted/50 transition-colors cursor-pointer group\">\r\n                              <div className=\"flex-1\">\r\n                                <div className=\"flex items-center justify-between mb-1\">\r\n                                  <p className=\"font-medium text-sm group-hover:text-primary transition-colors\">\r\n                                    {topic.topicName}\r\n                                  </p>\r\n                                  <span className=\"text-xs text-muted-foreground\">\r\n                                    {topic.hasStarted \r\n                                      ? `${topic.materialsCompleted}/${topic.totalMaterials} materials ‚Ä¢ ${topic.revisionsCompleted}/${topic.totalRevisions} revisions`\r\n                                      : \"Not started yet\"\r\n                                    }\r\n                                  </span>\r\n                                </div>\r\n\r\n                                {/* Test Score and XP */}\r\n                                {topic.hasStarted && (\r\n                                  <div className=\"flex items-center gap-3 mb-2 text-xs\">\r\n                                    {topic.testScore > 0 && (\r\n                                      <span className=\"font-semibold text-green-700\">\r\n                                        Test: {topic.testScore}/20\r\n                                      </span>\r\n                                    )}\r\n                                    <span className=\"font-semibold text-blue-700\">\r\n                                      {topic.totalXP} XP\r\n                                    </span>\r\n                                  </div>\r\n                                )}\r\n\r\n                                <div className=\"flex items-center gap-2\">\r\n                                  <Progress value={topic.progress} className=\"h-2 flex-1\" />\r\n                                  <span className=\"text-xs font-bold text-muted-foreground\">{topic.progress}%</span>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"flex items-center gap-2 ml-4\">\r\n                                {topic.progress === 100 && (\r\n                                  <Badge className=\"bg-green-100 text-green-800\">‚úì MASTERED</Badge>\r\n                                )}\r\n                                {topic.status === \"GOOD\" && topic.progress < 100 && (\r\n                                  <Badge className=\"bg-blue-100 text-blue-800\">üü° GOOD</Badge>\r\n                                )}\r\n                                {topic.status === \"NEEDS_WORK\" && topic.progress > 0 && topic.progress < 100 && (\r\n                                  <Badge className=\"bg-yellow-100 text-yellow-800\">üìà NEEDS_WORK</Badge>\r\n                                )}\r\n                                {topic.progress === 0 && (\r\n                                  <Badge variant=\"outline\">Not Started</Badge>\r\n                                )}\r\n                                {topic.totalRevisions > topic.revisionsCompleted && !canReviseToday && (\r\n                                  <Badge className=\"bg-red-100 text-red-800 text-xs\">‚è≥ 1/day</Badge>\r\n                                )}\r\n                                <ChevronRight className=\"w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors\" />\r\n                              </div>\r\n                            </div>\r\n                          </Link>\r\n                        )\r\n                      })}\r\n                    </div>\r\n                  ) : (\r\n                    <p className=\"text-sm text-muted-foreground text-center py-4\">\r\n                      No topics available for this subject yet.\r\n                    </p>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}