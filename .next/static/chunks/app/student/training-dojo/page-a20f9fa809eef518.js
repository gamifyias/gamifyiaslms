(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9802],{8580:function(e,t,s){Promise.resolve().then(s.bind(s,8851))},8851:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p},dynamic:function(){return f}});var r=s(7437),a=s(2265),n=s(970),i=s(1817),l=s(6070),c=s(5974),d=s(2869),o=s(9322),u=s(401),h=s(5165);function x(e){let{studentId:t}=e,[s,n]=(0,a.useState)(!1),{tabs:x,loading:m,error:f,handleCompleteRevision:p,refetchTabs:y}=(0,h.n)(t);if(m)return(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(i.Z,{className:"w-8 h-8 animate-spin"})});if(f)return(0,r.jsx)(l.Zb,{className:"border-destructive",children:(0,r.jsx)(l.aY,{className:"p-6",children:(0,r.jsxs)("p",{className:"text-destructive",children:["Failed to load training sessions: ",f]})})});if(0===x.overdue.length+x.today.length+x.upcoming.length)return(0,r.jsx)(l.Zb,{children:(0,r.jsx)(l.aY,{className:"p-8",children:(0,r.jsx)("p",{className:"text-center text-muted-foreground",children:"No training sessions scheduled yet. Start by opening study materials to begin your revision schedule!"})})});let g=async e=>{n(!0);try{await p(e),await y()}finally{n(!1)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsx)(l.Zb,{children:(0,r.jsx)(l.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-red-600",children:x.overdue.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Overdue"})]})})}),(0,r.jsx)(l.Zb,{children:(0,r.jsx)(l.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:x.today.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Today"})]})})}),(0,r.jsx)(l.Zb,{children:(0,r.jsx)(l.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-green-600",children:x.upcoming.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Upcoming"})]})})})]}),x.overdue.length>0&&(0,r.jsxs)(l.Zb,{className:"border-red-200 bg-red-50",children:[(0,r.jsxs)(l.Ol,{className:"pb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5 text-red-600"}),(0,r.jsxs)(l.ll,{className:"text-lg",children:["\uD83D\uDD34 Overdue (",x.overdue.length,")"]})]}),(0,r.jsx)(l.SZ,{children:"Complete these revisions immediately"})]}),(0,r.jsx)(l.aY,{className:"space-y-2",children:x.overdue.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-red-100",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-sm",children:[e.material_type.toUpperCase()," - Revision ",e.revision_number]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Due: ",new Date(e.due_date).toLocaleDateString()]})]}),(0,r.jsxs)(d.z,{size:"sm",onClick:()=>g(e.id),disabled:s,className:"gap-1",children:[(0,r.jsx)(u.Z,{className:"h-3 w-3"}),"Complete"]})]},e.id))})]}),x.today.length>0&&(0,r.jsxs)(l.Zb,{className:"border-yellow-200 bg-yellow-50",children:[(0,r.jsxs)(l.Ol,{className:"pb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5 text-yellow-600"}),(0,r.jsxs)(l.ll,{className:"text-lg",children:["\uD83D\uDFE0 Today (",x.today.length,")"]})]}),(0,r.jsx)(l.SZ,{children:"Complete these revisions today"})]}),(0,r.jsx)(l.aY,{className:"space-y-2",children:x.today.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-yellow-100",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-sm",children:[e.material_type.toUpperCase()," - Revision ",e.revision_number]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Due today at ",new Date(e.due_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,r.jsxs)(d.z,{size:"sm",onClick:()=>g(e.id),disabled:s,className:"gap-1",children:[(0,r.jsx)(u.Z,{className:"h-3 w-3"}),"Complete"]})]},e.id))})]}),x.upcoming.length>0&&(0,r.jsxs)(l.Zb,{className:"border-green-200 bg-green-50",children:[(0,r.jsxs)(l.Ol,{className:"pb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.Z,{className:"h-5 w-5 text-green-600"}),(0,r.jsxs)(l.ll,{className:"text-lg",children:["\uD83D\uDFE2 Upcoming (",x.upcoming.length,")"]})]}),(0,r.jsx)(l.SZ,{children:"These are coming up soon"})]}),(0,r.jsx)(l.aY,{className:"space-y-2",children:x.upcoming.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-green-100",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-sm",children:[e.material_type.toUpperCase()," - Revision ",e.revision_number]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Due: ",new Date(e.due_date).toLocaleDateString()]})]}),(0,r.jsx)(c.C,{variant:"outline",children:"Pending"})]},e.id))})]})]})}var m=s(4330);let f="force-dynamic";function p(){let[e,t]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),c=(0,n.e)();return((0,a.useEffect)(()=>{(async()=>{try{let{data:{user:e}}=await c.auth.getUser();if(null==e?void 0:e.id)t(e.id);else throw Error("User not authenticated")}catch(e){console.error("Error getting student ID:",e)}finally{l(!1)}})()},[c]),s)?(0,r.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,r.jsx)(m.StudentSidebar,{}),(0,r.jsx)("div",{className:"flex-1 flex justify-center items-center",children:(0,r.jsx)(i.Z,{className:"w-8 h-8 animate-spin"})})]}):e?(0,r.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,r.jsx)(m.StudentSidebar,{}),(0,r.jsx)("div",{className:"flex-1 overflow-auto",children:(0,r.jsxs)("div",{className:"container mx-auto p-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"\uD83C\uDFDBï¸ Training Dojo"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Master your revisions through spaced repetition"})]}),(0,r.jsx)(x,{studentId:e})]})})]}):(0,r.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,r.jsx)(m.StudentSidebar,{}),(0,r.jsx)("div",{className:"flex-1 flex justify-center items-center text-destructive",children:"Failed to load student ID"})]})}},9205:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:u,...h}=e;return(0,r.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:s,strokeWidth:c?24*Number(l)/Number(a):l,className:n("lucide",d),...h},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),c=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{className:c,...d}=s;return(0,r.createElement)(l,{ref:i,iconNode:t,className:n("lucide-".concat(a(e)),c),...d})});return s.displayName="".concat(e),s}},1769:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},401:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9322:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6399:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]])},5466:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},1817:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7692:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},800:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]])},8728:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9474:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},9663:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1239:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var r=s(2972),a=s.n(r)},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[5085,2972,2724,2971,2117,1744],function(){return e(e.s=8580)}),_N_E=e.O()}]);